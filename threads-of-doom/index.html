<!DOCTYPE html>
<html><head><meta charset="utf-8" viewport="width=1024"><title>Threads of Doom</title><link href="css/main.css" rel="stylesheet"><link href="http://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet"></head><body><div class="fallback-message"><p>Your browser <strong>doesn't support the features required</strong> by impress.js, so you are preseqnted with a simplified version of this presentation.</p><p>For the best experience please use the latest<strong>Chrome</strong>, <strong>Safari</strong> or <strong>Firefox</strong> browser.</p></div><div id="impress"><div class="step" data-rotate="0" data-scale="1" data-x="0" data-y="0" id="threads-of-doom"><h1 class="xx-large" data-highlight="first-letter">Threads of Doom</h1></div><div class="step" data-rotate="0" data-scale="0.1" data-x="-210" data-y="150" id="p2"><p class="large"><strong>You were doing it wrong</strong></p></div><div class="step" data-rotate="30" data-scale="1" data-x="800" data-y="400" id="problems-with-threads"><h2 class="xx-large" data-highlight="first-letter">Thread problems</h2></div><div class="step" data-rotate="30" data-scale="0.5" data-x="437.0" data-y="629.0" id="p4"><h1 data-highlight="first-letter">Shared data</h1></div><div class="step" data-rotate="30" data-scale="0.5" data-x="412.0" data-y="672.5" id="p5"><h1 data-highlight="first-letter">Locking</h1></div><div class="step" data-rotate="30" data-scale="0.5" data-x="430.0" data-y="740.5" id="p6"><h2 data-highlight="first-letter">Races</h2></div><div class="step" data-rotate="30" data-scale="0.5" data-x="405.0" data-y="784.0" id="p7"><h2 data-highlight="first-letter">Deadlocks</h2></div><div class="step" data-rotate="30" data-scale="0.5" data-x="380.0" data-y="827.5" id="p8"><h2 data-highlight="first-letter">Granularity</h2></div><div class="step" data-rotate="30" data-scale="0.5" data-x="355.0" data-y="870.5" id="p9"><h2 data-highlight="first-letter">Two-step dance</h2></div><div class="step" data-rotate="30" data-scale="0.5" data-x="287.0" data-y="889.0" id="p10"><h1 data-highlight="first-letter">Priority inversion</h1></div><div class="step" data-rotate="60" data-scale="1" data-x="1600" data-y="1000" id="solutions?"><h2 class="xx-large" data-highlight="first-letter">Solutions</h2></div><div class="step" data-rotate="60" data-scale="0.5" data-x="1294.0" data-y="830.0" id="p12"><h1 data-highlight="first-letter">Avoiding shared state</h1></div><div class="step" data-rotate="60" data-scale="0.75" data-x="1326.0" data-y="985.0" id="p13"><h2 data-highlight="first-letter">Re-entrancy</h2></div><div class="step" data-rotate="60" data-scale="0.75" data-x="1282.5" data-y="1010.0" id="p14"><h2 data-highlight="first-letter">Thread-local storage</h2></div><div class="step" data-rotate="60" data-scale="0.5" data-x="1569.0" data-y="1306.5" id="p15"><h1 data-highlight="first-letter">Synchronisation</h1></div><div class="step" data-rotate="60" data-scale="0.75" data-x="1601.0" data-y="1461.5" id="p16"><h2 data-highlight="first-letter">Mutexes</h2></div><div class="step" data-rotate="60" data-scale="0.75" data-x="1557.5" data-y="1486.5" id="p17"><h2 data-highlight="first-letter">Atomic ops</h2></div><div class="step" data-rotate="60" data-scale="0.75" data-x="1514.0" data-y="1511.5" id="p18"><h2 data-highlight="first-letter">Immutability</h2></div><div class="step" data-rotate="60" data-scale="0.5" data-x="1055.5" data-y="1256.5" id="p19"><h1 class="xx-large" data-highlight="first-letter">Something different?</h1></div><div class="step" data-rotate="120" data-scale="1" data-x="1900" data-y="2200" id="clojure"><img src="img/Clojure-glyph.svg"></div><div class="step" data-rotate="80" data-scale="1" data-x="2200" data-y="3400" id="primitives"><h1 data-highlight="first-letter">Shifting computation through time and space</h1></div><div class="step" data-rotate="80" data-scale="0.75" data-x="2259" data-y="3390" id="p22"><h2 data-highlight="first-letter">Primitive concurrency types</h2></div><div class="step" data-rotate="80" data-scale="0.75" data-x="2118.0" data-y="3567.0" id="p23"><p>Evaluated once, caches results</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="2073.75" data-y="3574.5" id="p24"><p>Blocks on deref</p></div><div class="step" data-rotate="80" data-scale="0.01" data-x="2200.0" data-y="3400.0" id="delays"><h1 class="largest" data-highlight="first-letter">Delays</h1></div><div class="step" data-rotate="80" data-scale="0.0075" data-x="2198.25" data-y="3399.29" id="p26"><p>Computed on demand</p></div><div class="step" data-rotate="80" data-scale="0.0075" data-x="2197.6575" data-y="3399.395" id="p27"><p>Opt-in cost</p></div><div class="step" data-rotate="80" data-scale="0.0075" data-x="2200.24" data-y="3415.19" id="futures"><h1 class="largest" data-highlight="first-letter">Futures</h1></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="2198.9275" data-y="3414.6575000000003" id="p29"><p>Run immediately in the background</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="2198.4831249999997" data-y="3414.7362500000004" id="p30"><p>Optional timeout on deref</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="2198.0387499999997" data-y="3414.815" id="p31"><p>Shares thread pool with agents</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="2197.6" data-y="3414.89375" id="p32"><p>Simple concurrency</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="2199.61" data-y="3425.45" id="promises"><h1 class="largest" data-highlight="first-letter">Promises</h1></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="2198.625625" data-y="3425.050625" id="p34"><p>Barren container at init</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="2198.2923437500003" data-y="3425.1096875" id="p35"><p>Value needs to be delivered separately</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="2197.79453125" data-y="3425.19828125" id="p36"><p>Can be used to make callback-based APIs synchronous</p></div><div class="step" data-rotate="140" data-scale="0.5" data-x="2462.0" data-y="3963.0" id="primitive-demo"><h1 class="largest" data-highlight="first-letter">DEMO!</h1></div><div class="step" data-rotate="80" data-scale="1" data-x="1412" data-y="4139" id="reference-types"><h1 data-highlight="first-letter">Reference types</h1></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1296.0" data-y="4058.0" id="p39"><p>Boxes</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1236.75" data-y="4068.5" id="p40"><p>deref returns a snapshot</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1177.5" data-y="4079.0" id="p41"><p>deref never blocks</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1119.0" data-y="4089.5" id="p42"><p>watchers & validators</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1059.75" data-y="4100.0" id="p43"><p>coordination & synchronisation</p></div><div class="step" data-rotate="80" data-scale="0.75" data-x="1285.5" data-y="4517.0" id="p44"><table border="1"><tr style="background: #bbb;"><td></td><td>coord</td><td>uncoord</td></tr><tr><td style="background: #bbb;">sync</td><td>Refs</td><td>Atoms</td></tr><tr><td style="background: #bbb;">async</td><td style="background: black;"></td><td>Agents</td></tr></table></div><div class="step" data-rotate="80" data-scale="0.0075" data-x="1296.0" data-y="4058.0" id="atoms"><h1 class="largest" data-highlight="first-letter">atoms</h1></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1295.13" data-y="4057.3925" id="p46"><p>Synchronous</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1294.798125" data-y="4057.44875" id="p47"><p>Uncoordinated</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1294.4662500000002" data-y="4057.510625" id="p48"><p>compare-and-set</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1294.134375" data-y="4057.566875" id="p49"><p>blocks on set</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1293.8025" data-y="4057.62875" id="p50"><p>can't coordinate atoms</p></div><div class="step" data-rotate="80" data-scale="0.005625" data-x="1295.79" data-y="4067.1725" id="refs"><h1 class="largest" data-highlight="first-letter">refs</h1></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1295.1375" data-y="4066.716875" id="p52"><p>Synchronous</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1294.8885937500002" data-y="4066.7590625000003" id="p53"><p>Coordinated</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1295.5045312500001" data-y="4068.7925" id="p54"><p>No inconsistency</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1295.255625" data-y="4068.83890625" id="p55"><p>No races with involved refs</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1295.0067187500001" data-y="4068.88109375" id="p56"><p>No manual locks</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1294.7578125" data-y="4068.9275000000002" id="p57"><p>No deadlocks</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1294.3907812500001" data-y="4066.84765625" id="p58"><p>In-transaction values</p></div><div class="step" data-rotate="80" data-scale="0.00421875" data-x="1296.0225" data-y="4076.27" id="agents"><h1 class="largest" data-highlight="first-letter">Agents</h1></div><div class="step" data-rotate="80" data-scale="0.0031640625" data-x="1295.533125" data-y="4075.92828125" id="p60"><p>Asynchronous</p></div><div class="step" data-rotate="80" data-scale="0.0031640625" data-x="1295.3464453125" data-y="4075.959921875" id="p61"><p>Uncoordinated</p></div><div class="step" data-rotate="80" data-scale="0.0031640625" data-x="1295.1597656249999" data-y="4075.9947265625" id="p62"><p>I/O safe & STM aware</p></div><div class="step" data-rotate="80" data-scale="0.0031640625" data-x="1294.9730859375" data-y="4076.0263671875" id="p63"><p>non-blocking deref</p></div><div class="step" data-rotate="80" data-scale="1" data-x="624" data-y="4278" id="reftype-demo"><h1 class="largest" data-highlight="first-letter">DEMO!</h1></div><div class="step" data-rotate="90" data-scale="1" data-x="-3000" data-y="100" id="the-end"><h1 class="xx-large" data-highlight="first-letter">The End</h1></div><div class="step" data-rotate="90" data-scale="0.5" data-x="-3150.0" data-y="100.0" id="p66"><p class="left">© 2013 Gergely Nagy, <a href="https://twitter.com/algernoone">@algernoone</a> / <a href="http://asylum.madhouse-project.org/">blog</a></p><a class="right" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img class="right" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a></div><div class="step" data-rotate="0" data-scale="6" data-x="200" data-y="1800" id="overview"></div></div><script src="js/impress.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
(function(window, undefined){ var _onload = window.onload;  window.onload = function() { if(_onload){ _onload(); } impress().init(); }; }(this));
//]]></script></body></html>